(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,a){e.exports=a(481)},481:function(e,t,a){"use strict";a.r(t);var n,i,r,s,c,l,o,m,u,p,h,y,b,d,E,v,g,f,O,j,N,S,k,w,D,T,C,x,F,P,I,A,U,z,$,L,_,M,Y,B,R,W,J,G,q,H,K,Q,V,X,Z,ee,te=a(0),ae=a.n(te),ne=a(30),ie=a.n(ne),re=a(9),se=a(11),ce=a(13),le=a(12),oe=a(14),me=a(31),ue=a(4),pe=Object(ue.b)("userStore")(n=Object(ue.c)(n=function(e){function t(){return Object(re.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return ae.a.createElement(me.Card,{className:"container"})}}]),t}(ae.a.Component))||n)||n,he=a(6),ye=a(5),be=a(7),de=(a(46),a(483)),Ee=a(201),ve=a.n(Ee),ge=a(202),fe=a.n(ge),Oe=a(3),je=a(53),Ne=a(73),Se=a.n(Ne),ke=a(94),we=a(43),De=a(26),Te=a.n(De),Ce=a(95),xe=a.n(Ce),Fe=a(96),Pe=a.n(Fe),Ie=a(83),Ae=a.n(Ie),Ue=Object(ue.b)("entitiesStore")(i=Object(ue.c)(i=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i)))).entityType="entityType",a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems(this.entityType)}},{key:"render",value:function(){var e=this;return this.props.entitiesStore.entities[this.entityType]?ae.a.createElement("div",{class:"prices"},"    ",ae.a.createElement("h4",null,"\u05de\u05d7\u05d9\u05e8\u05d9\u05dd")," ",ae.a.createElement("div",{className:"pricesTable"},this.props.entitiesStore.entities[this.entityType].map(function(t){return ae.a.createElement("div",{className:"row"},ae.a.createElement("span",null," ",t.name," - "),ae.a.createElement(Te.a,{className:"priceInput",type:"number",name:t.name,value:e.props.values[t.name],onChange:function(a){e.props.changeEntity(t.name,a.target.value)}}))})," ")):ae.a.createElement("div",null,"loading")}}]),t}(ae.a.Component))||i)||i,ze=Object(ue.b)("entitiesStore")(r=Object(ue.c)(r=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i)))).entityType="entityType",a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems(this.entityType)}},{key:"render",value:function(){var e=this;return this.props.entitiesStore.entities[this.entityType]?ae.a.createElement("div",{class:"prices"},"    ",ae.a.createElement("h4",null,"\u05d1\u05d0\u05d9\u05d6\u05d4 \u05de\u05e1\u05db\u05d9\u05dd \u05dc\u05d4\u05e6\u05d9\u05d2\u05d5?")," ",ae.a.createElement("div",{className:"pricesTable"},this.props.entitiesStore.entities[this.entityType].map(function(t){return ae.a.createElement("div",{className:"row"},ae.a.createElement("span",null," ",t.name," - "),ae.a.createElement(Ae.a,{className:"checkbox",name:t.name,checked:e.props.values.indexOf(t.name)>-1,onChange:function(a){e.props.changeEntity(t.name,a.target.checked)}}))})," ")):ae.a.createElement("div",null,"loading")}}]),t}(ae.a.Component))||r)||r,$e=Object(ue.b)("entitiesStore")(s=Object(ue.c)((c=function(e){function t(e){var a;return Object(re.a)(this,t),a=Object(ce.a)(this,Object(le.a)(t).call(this,e)),Object(he.a)(a,"changeEntity",l,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"ChangeCheckBox",o,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"arrayChange",m,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"manArrayChange",u,Object(ye.a)(Object(ye.a)(a))),a.togglePopUp=function(){a.props.togglePopUp()},a.setArchive=function(){a.setState(function(e){return{entity:Object(we.a)({},e.entity,{isArchive:!e.entity.isArchive})}})},a.saveEntity=Object(ke.a)(Se.a.mark(function e(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.entity){e.next=5;break}return e.next=3,a.props.entitiesStore.editEntity(a.state.entity);case 3:e.next=7;break;case 5:return e.next=7,a.props.entitiesStore.createItem(a.state.entity,a.props.entityName);case 7:a.props.togglePopUp();case 8:case"end":return e.stop()}},e)})),a.getTitle=function(){return a.props.entity?"\u05e2\u05e8\u05d5\u05da "+a.props.entitiesStore.entitiesFields[a.props.entityName].name:a.props.entitiesStore.entitiesFields[a.props.entityName].name+" \u05d7\u05d3\u05e9 "},a.state={entity:e.entity||{prices:{},types:[]}},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({entity:e.entity||{prices:{},types:[]}})}},{key:"render",value:function(){var e=this;return ae.a.createElement(me.Card,{className:"popUp"},ae.a.createElement(me.CardTitle,{title:this.getTitle()}),this.props.entitiesStore.entitiesFields[this.props.entityName].fields.map(function(t){return"isClose"===t?ae.a.createElement("div",{class:"row"},ae.a.createElement("span",null,"\u05d4\u05d0\u05dd \u05d4\u05d5\u05d0 \u05e7\u05e8\u05d5\u05d1? "),ae.a.createElement(Ae.a,{name:t,onChange:e.ChangeCheckBox,className:"checkbox",checked:e.state.entity[t],value:"\u05d4\u05d0\u05dd \u05d4\u05d5\u05d0 \u05e7\u05e8\u05d5\u05d1"})):"arrPrices"===t?ae.a.createElement(Ue,{name:"item",changeEntity:e.arrayChange,values:e.state.entity.prices||{}}):"types"===t?ae.a.createElement(ze,{name:"item",changeEntity:e.manArrayChange,values:e.state.entity.types||[]}):"isArchive"===t?ae.a.createElement("div",{class:"row"},ae.a.createElement("span",null,"\u05e4\u05e2\u05d9\u05dc "),ae.a.createElement(Ae.a,{name:"isArchive",onChange:e.ChangeCheckBox,className:"checkbox",checked:!e.state.entity.isArchive,value:"\u05d4\u05d0\u05dd \u05d4\u05d5\u05d0 \u05e4\u05e2\u05d9\u05dc"})):ae.a.createElement("div",{className:"row"},"  ",ae.a.createElement(Te.a,{floatingLabelText:t,type:"text",name:t,value:e.state.entity[t]||"",onChange:e.changeEntity}))}),ae.a.createElement("div",{className:"row"},ae.a.createElement(xe.a,{className:"buttons",onClick:this.saveEntity}),ae.a.createElement(Pe.a,{title:"cancel",className:"buttons",onClick:this.togglePopUp})))}}]),t}(ae.a.Component),l=Object(be.a)(c.prototype,"changeEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setState({entity:Object(we.a)({},e.state.entity,Object(je.a)({},t.target.name,t.target.value))}),e.state.entity[t.target.name]=t.target.value}}}),o=Object(be.a)(c.prototype,"ChangeCheckBox",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setState({entity:Object(we.a)({},e.state.entity,Object(je.a)({},t.target.name,!e.state.entity[t.target.name]))})}}}),m=Object(be.a)(c.prototype,"arrayChange",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.setState({entity:Object(we.a)({},e.state.entity,{prices:Object(we.a)({},e.state.entity.prices,Object(je.a)({},t,a))})})}}}),u=Object(be.a)(c.prototype,"manArrayChange",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){a?e.state.entity.types.indexOf(t)<0&&e.setState({entity:Object(we.a)({},e.state.entity,{types:e.state.entity.types.concat(t)})}):e.setState({entity:Object(we.a)({},e.state.entity,{types:e.state.entity.types.filter(function(e){return e!==t})})})}}}),s=c))||s)||s,Le=a(27),_e=a.n(Le),Me=a(424),Ye=a(40),Be=a.n(Ye),Re=a(32),We=a.n(Re),Je=a(36),Ge=a.n(Je),qe=Object(ue.b)("entitiesStore")(p=Object(ue.b)("userStore")(p=Object(ue.c)((h=function(e){function t(e){var a;return Object(re.a)(this,t),a=Object(ce.a)(this,Object(le.a)(t).call(this,e)),Object(he.a)(a,"entity",y,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"error",b,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeDateEntity",d,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeEntity",E,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"ChangeCheckBox",v,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"arrayChange",g,Object(ye.a)(Object(ye.a)(a))),a.saveEntity=Object(ke.a)(Se.a.mark(function e(){var t;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.entity.count){e.next=5;break}alert("\u05d1\u05d1\u05e7\u05e9\u05d4 \u05d4\u05db\u05e0\u05e1 \u05db\u05de\u05d5\u05ea."),e.next=15;break;case 5:if(!a.props.entity&&!a.entity._id){e.next=11;break}return e.next=8,a.props.entitiesStore.editDelivery(a.entity);case 8:t=e.sent,e.next=14;break;case 11:return e.next=13,a.props.entitiesStore.createDelivery(a.entity,a.props.entityName);case 13:t=e.sent;case 14:t&&t.length>0?a.error=t:a.props.togglePopUp();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),e.t0.err?window.confirm(e.t0.err)&&a.setEntity(e.t0.value[0]):alert(e.t0);case 20:case"end":return e.stop()}},e,null,[[0,17]])})),a.togglePopUp=function(){a.props.togglePopUp()},a.setEntity(e.entity),a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"padNumber",value:function(e){return e>9?e:"0"+e}},{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems("entityType"),this.props.entitiesStore.getItems("driver"),this.props.entitiesStore.getItems("truck"),this.props.entitiesStore.getItems("manufacturers"),this.props.entitiesStore.getItems("milkman")}}]),Object(se.a)(t,[{key:"setEntity",value:function(e){e?(this.entity=Object(we.a)({},e),this.entity.price=this.entity.price?this.entity.price.$numberDecimal:1,this.entity.liter=this.entity.liter?this.entity.liter.$numberDecimal:1,this.entity.count=this.entity.count?this.entity.count.$numberDecimal:1):this.entity={entityType:"\u05d7\u05dc\u05d1",date:new Date,liter:1}}},{key:"componentWillReceiveProps",value:function(e){this.setEntity(e.entity)}},{key:"toDateString",value:function(e){return e.getFullYear||(e=new Date(e)),e.getFullYear?e.getFullYear()+"-"+this.padNumber(e.getMonth()+1)+"-"+this.padNumber(e.getDate()):e}},{key:"render",value:function(){var e=this;return this.props.userStore.user?ae.a.createElement(me.Card,{className:"popUp"},ae.a.createElement(me.CardTitle,{title:"\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d3\u05e9"}),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement("span",{className:"error"},this.error),ae.a.createElement(Ge.a,{htmlFor:"entityType"},"\u05de\u05d5\u05e6\u05e8"),ae.a.createElement(Be.a,{className:"select",value:this.entity.entityType,onChange:this.changeEntity,inputProps:{name:"entityType",id:"entityType"}},this.props.entitiesStore.entities.entityType?this.props.entitiesStore.entities.entityType.map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"manufacturer"},"\u05d9\u05e6\u05e8\u05df"),ae.a.createElement(Be.a,{className:"select",value:this.entity.manufacturer,onChange:this.changeEntity,inputProps:{name:"manufacturer",id:"manufacturer"}},this.props.entitiesStore.entities.manufacturers?this.props.entitiesStore.entities.manufacturers.map(function(t){if(t.types.indexOf(e.entity.entityType)>=0)return ae.a.createElement(We.a,{value:t.name},ae.a.createElement("em",null,t.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"liter"},"\u05dc\u05d9\u05d8\u05e8"),ae.a.createElement(Te.a,{id:"liter",className:"input",floatingLabelText:"\u05dc\u05d9\u05d8\u05e8",type:"number",name:"liter",value:this.entity.liter,onChange:this.changeEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"count"},"\u05db\u05de\u05d5\u05ea"),ae.a.createElement(Te.a,{id:"count",className:"input",floatingLabelText:"\u05db\u05de\u05d5\u05ea",type:"number",name:"count",value:this.entity.count,onChange:this.changeEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Te.a,{className:"input",type:"date",name:"date",value:this.toDateString(this.entity.date),onChange:this.changeDateEntity,onInput:this.changeDateEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"milkman"},"\u05de\u05d7\u05dc\u05d1\u05d4"),ae.a.createElement(Be.a,{className:"select",value:this.entity.milkman,onChange:this.changeEntity,inputProps:{name:"milkman",id:"milkman"}},this.props.entitiesStore.entities.milkman?this.props.entitiesStore.entities.milkman.map(function(t){if(Object.keys(t.prices).indexOf(e.entity.entityType)>=0)return ae.a.createElement(We.a,{value:t.name},ae.a.createElement("em",null,t.name))}):null)),"  "),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"price"},"\u05de\u05d7\u05d9\u05e8"),ae.a.createElement(Te.a,{id:"price",className:"input",type:"text",name:"price",value:this.entity.price,onChange:this.changeEntity})),"  "),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"driver"},"\u05e0\u05d4\u05d2"),ae.a.createElement(Be.a,{className:"select",value:this.entity.driver,onChange:this.changeEntity,inputProps:{name:"driver",id:"driver"}},this.props.entitiesStore.entities.driver?this.props.entitiesStore.entities.driver.filter(function(e){return!e.isArchive}).map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"truck"},"\u05de\u05e9\u05d0\u05d9\u05ea"),ae.a.createElement(Be.a,{className:"select",value:this.entity.truck,onChange:this.changeEntity,inputProps:{name:"truck",id:"truck"}},this.props.entitiesStore.entities.truck?this.props.entitiesStore.entities.truck.filter(function(e){return!e.isArchive}).map(function(e){return ae.a.createElement(We.a,{value:e.number},ae.a.createElement("em",null,e.number))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"cerDel"},"\u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05e9\u05dc\u05d5\u05d7"),ae.a.createElement(Te.a,{id:"cerDel",className:"input",type:"text",name:"cerDel",value:this.entity.cerDel,onChange:this.changeEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Ge.a,{htmlFor:"cerSell"},"\u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05db\u05d9\u05e8\u05d4 "),ae.a.createElement(Te.a,{id:"cerSell",className:"input",type:"text",name:"cerSell",value:this.entity.cerSell,onChange:this.changeEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement(xe.a,{className:"buttons",onClick:this.saveEntity}),ae.a.createElement(Pe.a,{className:"buttons",onClick:this.togglePopUp}))):ae.a.createElement(Me.a,{to:"/login"},"Log in")}}]),t}(ae.a.Component),y=Object(be.a)(h.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{entityType:"\u05d7\u05dc\u05d1",date:new Date,liter:1}}}),b=Object(be.a)(h.prototype,"error",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=Object(be.a)(h.prototype,"changeDateEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.target.value.split("-");e.entity[t.target.name]=new Date(a[0],a[1]-1,a[2])}}}),E=Object(be.a)(h.prototype,"changeEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.entity[t.target.name]=t.target.value,"milkman"!==t.target.name&&"entityType"!==t.target.name||e.props.entitiesStore.entities.milkman.forEach(function(a){a.name===t.target.value&&(e.entity.price=a.prices[e.entity.entityType])}),"manufacturer"===t.target.name&&e.props.entitiesStore.entities.manufacturers.forEach(function(a){a.name===t.target.value&&(e.entity.isClose=a.isClose)})}}}),v=Object(be.a)(h.prototype,"ChangeCheckBox",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.entity[t.target.name]=!e.entity[t.target.name]}}}),g=Object(be.a)(h.prototype,"arrayChange",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.entity.prices=Object(we.a)({},e.entity.prices,Object(je.a)({},t,a))}}}),p=h))||p)||p)||p,He=Object(ue.c)((O=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"showPopUp",j,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"togglePopUp",N,Object(ye.a)(Object(ye.a)(a))),a.getPopUp=function(){if(a.props.entity||a.showPopUp)return"delivery"===a.props.entityName?ae.a.createElement(qe,{entity:a.props.entity,togglePopUp:a.props.entity?a.props.togglePopUp:a.togglePopUp}):ae.a.createElement($e,{entity:a.props.entity,togglePopUp:a.props.entity?a.props.togglePopUp:a.togglePopUp,entityName:a.props.entityName})},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return ae.a.createElement("div",{className:"popUpContainer"},"  ",ae.a.createElement(ve.a,{color:"primary","aria-label":"Add"},ae.a.createElement(fe.a,{onClick:this.togglePopUp}),this.getPopUp()))}}]),t}(ae.a.Component),j=Object(be.a)(O.prototype,"showPopUp",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=Object(be.a)(O.prototype,"togglePopUp",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showPopUp=!e.showPopUp}}}),f=O))||f,Ke=a(71),Qe=a.n(Ke),Ve=a(72),Xe=a.n(Ve),Ze=Object(ue.b)("entitiesStore")(S=Object(ue.c)(S=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i)))).getItemText=function(e){return ae.a.createElement("div",{className:"column"},Object.keys(e).map(function(t){return ae.a.createElement("div",{className:"column1"}," ",e[t]," - ",t)}))},a.getItemDecimalText=function(e,t){return"date"===t?new Date(e).toDateString():e.$numberDecimal?e.$numberDecimal:e},a.editEntity=function(){a.props.editEntity(a.props.item)},a.deleteEntity=function(){a.props.deleteEntity?a.props.deleteEntity(a.props.item):a.props.entitiesStore.deleteEntity(a.props.item)},a.getItemArrayText=function(e){return e.map(function(e){return ae.a.createElement("div",{className:"column1"}," ",e)})},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this;return ae.a.createElement("div",{className:"row"},ae.a.createElement("div",{className:"column buttons"},ae.a.createElement(Qe.a,{className:"buttons",onClick:this.editEntity}),ae.a.createElement(Xe.a,{className:"buttons",onClick:this.deleteEntity})),Object.keys(this.props.item).map(function(t){if("_"!=t[0]&&"prices"!=t&&"types"!=t)return ae.a.createElement("div",{className:t+" column"},"isClose"===t?e.props.item[t]?"\u05e7\u05e8\u05d5\u05d1":"\u05e8\u05d7\u05d5\u05e7":e.getItemDecimalText(e.props.item[t],t))}),this.props.item.prices?this.getItemText(this.props.item.prices):null,this.props.item.types?this.getItemArrayText(this.props.item.types):null)}}]),t}(ae.a.Component))||S)||S,et=Object(ue.b)("userStore")(k=Object(ue.b)("entitiesStore")(k=Object(ue.c)((w=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"entity",D,Object(ye.a)(Object(ye.a)(a))),a.getItemText=function(e){return Object.keys(e).map(function(t){return ae.a.createElement("div",{className:"column1"}," ",e[t]," - ",t)})},a.editEntity=function(e){a.entity=e},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.entitiesStore.getItems(e.match.params.name),this.props.entitiesStore.setEntityType(e.match.params.name)}},{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems(this.props.match.params.name),this.props.entitiesStore.setEntityType(this.props.match.params.name)}},{key:"render",value:function(){var e=this;return this.props.userStore.user?this.props.entitiesStore.entities[this.props.entitiesStore.entityType]?ae.a.createElement("div",{class:"container"},ae.a.createElement("h2",{className:"title"},this.props.entitiesStore.entitiesFields[this.props.entitiesStore.entityType].name+" \u05d7\u05d3\u05e9 "," "),ae.a.createElement(He,{togglePopUp:this.editEntity,entityName:this.props.entitiesStore.entityType,entity:this.entity})," ",ae.a.createElement("div",{className:"table"},this.props.entitiesStore.entities[this.props.entitiesStore.entityType].reverse().map(function(t){return ae.a.createElement(Ze,{item:t,editEntity:e.editEntity})}))):ae.a.createElement("div",null,"loading"):ae.a.createElement(de.a,{to:"/login"})}}]),t}(ae.a.Component),D=Object(be.a)(w.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=w))||k)||k)||k,tt=a(98),at=a.n(tt),nt=function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,i=e.user;return ae.a.createElement(me.Card,{className:"container"},ae.a.createElement("form",{action:"/",onSubmit:t},ae.a.createElement("h2",{className:"card-heading"},"Login"),n.summary&&ae.a.createElement("p",{className:"error-message"},n.summary),ae.a.createElement("div",{className:"field-line"},ae.a.createElement(Te.a,{floatingLabelText:"User Name",name:"username",errorText:n.username,onChange:a,value:i.username})),ae.a.createElement("div",{className:"field-line"},ae.a.createElement(Te.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:i.password})),ae.a.createElement("div",{className:"button-line"},ae.a.createElement(at.a,{type:"submit",label:"Log in",primary:!0}))))},it=a(39),rt=a.n(it),st=Object(ue.b)("userStore")(T=Object(ue.c)(T=function(e){function t(e){var a;return Object(re.a)(this,t),(a=Object(ce.a)(this,Object(le.a)(t).call(this,e))).processForm=function(e){e.preventDefault(),a.props.userStore.login(a.state.user)},a.changeUser=function(e){var t=e.target.name,n=a.state.user;n[t]=e.target.value,a.setState({user:n})},a.state={user:{username:"",password:""}},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return this.props.userStore.user?ae.a.createElement(de.a,{to:"/profile"}):ae.a.createElement(nt,{onSubmit:this.processForm,onChange:this.changeUser,errors:this.props.userStore.errors,user:this.state.user})}}]),t}(ae.a.Component))||T)||T,ct=a(487),lt=Object(ue.b)("userStore")(C=Object(ue.c)(C=function(e){function t(){return Object(re.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return this.props.userStore.user?ae.a.createElement(me.Card,{className:"container"},ae.a.createElement(me.CardTitle,{title:"\u05d2\u05d5\u05dc\u05df",subtitle:" \u05e9\u05dc\u05d5\u05dd "+this.props.userStore.user.username})):ae.a.createElement(ct.a,{to:"/login"})}}]),t}(ae.a.Component))||C)||C,ot=function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,i=e.user;return ae.a.createElement(me.Card,{className:"container"},ae.a.createElement("form",{action:"/",onSubmit:t},ae.a.createElement("h2",{className:"card-heading"},"Sign Up"),n.message&&ae.a.createElement("p",{className:"error-message"},n.message),ae.a.createElement("div",{className:"field-line"},ae.a.createElement(Te.a,{floatingLabelText:"Name",name:"name",errorText:n.name,onChange:a,value:i.name})),ae.a.createElement("div",{className:"field-line"},ae.a.createElement(Te.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:i.password})),ae.a.createElement("div",{className:"button-line"},ae.a.createElement(at.a,{type:"submit",label:"Create New Account",primary:!0})),ae.a.createElement(me.CardText,null,"Already have an account? ",ae.a.createElement(Me.a,{to:"/login"},"Log in"))))},mt=Object(ue.b)("userStore")(x=Object(ue.c)(x=function(e){function t(e){var a;return Object(re.a)(this,t),(a=Object(ce.a)(this,Object(le.a)(t).call(this,e))).changeUser=function(e){var t=e.target.name,n=a.state.user;n[t]=e.target.value,a.setState({user:n})},a.processForm=function(e){e.preventDefault(),a.props.userStore.register(a.state.user)},a.state={user:{name:"",password:""}},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return this.props.userStore.user?ae.a.createElement(de.a,{to:"/profile"}):ae.a.createElement(ot,{onSubmit:this.processForm,onChange:this.changeUser,errors:this.props.userStore.errors,user:this.state.user})}}]),t}(ae.a.Component))||x)||x,ut=a(99),pt=a.n(ut),ht=Object(ue.b)("entitiesStore")(F=Object(ue.c)((P=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"entity",I,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeEntity",A,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeDateEntity",U,Object(ye.a)(Object(ye.a)(a))),a.search=function(){a.props.entitiesStore.searchDeliveries(a.entity)},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"getFirstDayOfTheMonth",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}},{key:"getLasttDayOfTheMonth",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}},{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems("entityType")}},{key:"padNumber",value:function(e){return e>9?e:"0"+e}},{key:"toDateString",value:function(e){return e.getFullYear()+"-"+this.padNumber(e.getMonth()+1)+"-"+this.padNumber(e.getDate())}},{key:"render",value:function(){return ae.a.createElement(me.Card,{className:"popUp"},ae.a.createElement(me.CardTitle,{title:"\u05d3\u05d5\u05d7\u05d5\u05ea"}),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"age-simple"},"\u05de\u05d5\u05e6\u05e8"),ae.a.createElement(Be.a,{className:"input",value:this.entity.entityType,onChange:this.changeEntity,inputProps:{name:"entityType",id:"age-simple"}},this.props.entitiesStore.entities.entityType?this.props.entitiesStore.entities.entityType.map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"mani-simple"},"\u05d3\u05d5\u05d7 \u05e2\u05d1\u05d5\u05e8"),ae.a.createElement(Be.a,{className:"input",value:this.entity.grouping,onChange:this.changeEntity,inputProps:{name:"grouping",id:"mani-simple"}},ae.a.createElement(We.a,{value:"milkman"},ae.a.createElement("em",null,"\u05d7\u05dc\u05d1\u05e0\u05d9\u05dd")),ae.a.createElement(We.a,{value:"manufacturer"},ae.a.createElement("em",null,"\u05d9\u05e6\u05e8\u05e0\u05d9\u05dd")))))," ",ae.a.createElement("div",{className:"row"},ae.a.createElement("span",{htmlFor:"mani-simple"},"\u05de\u05ea\u05d0\u05e8\u05d9\u05da"),ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Te.a,{className:"input",type:"date",name:"fromDate",value:this.toDateString(this.entity.fromDate),onChange:this.changeDateEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement("span",{htmlFor:"toDate"},"\u05e2\u05d3 \u05ea\u05d0\u05e8\u05d9\u05da"),ae.a.createElement(Te.a,{className:"input",type:"date",name:"toDate",InputLabelProps:{shrink:!0},label:"\u05e2\u05d3 \u05ea\u05d0\u05e8\u05d9\u05da",value:this.toDateString(this.entity.toDate),onChange:this.changeDateEntity})),ae.a.createElement("div",{className:"row"},ae.a.createElement(pt.a,{className:"buttons",onClick:this.search})))}}]),t}(ae.a.Component),I=Object(be.a)(P.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{fromDate:this.getFirstDayOfTheMonth(),toDate:this.getLasttDayOfTheMonth(),grouping:"milkman",entityType:"\u05d7\u05dc\u05d1"}}}),A=Object(be.a)(P.prototype,"changeEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.entity[t.target.name]=t.target.value}}}),U=Object(be.a)(P.prototype,"changeDateEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.target.value.split("-");e.entity[t.target.name]=new Date(a[0],a[1]-1,a[2])}}}),F=P))||F)||F,yt=Object(ue.b)("entitiesStore")(z=Object(ue.c)(z=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i)))).getItemText=function(e){if(a.props.item[e])return a.props.item[e].$numberDecimal?a.props.item[e].$numberDecimal:a.props.item[e]},a.editEntity=function(){a.props.editEntity(a.props.item)},a.deleteEntity=function(){a.props.entitiesStore.deleteEntity(a.props.item)},a.getColumnsArray=function(){return a.props.entitiesStore.sumColumns[a.props.grouping]},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.getColumnsArray();return ae.a.createElement("div",{className:"row"},"_id"===this.props.grouping?ae.a.createElement("div",{className:"column buttons"},ae.a.createElement(Qe.a,{className:"buttons",onClick:this.editEntity}),ae.a.createElement(Xe.a,{className:"buttons",onClick:this.deleteEntity})):ae.a.createElement("div",{className:"column"},"-"),ae.a.createElement("div",{className:"name column"}," ",this.props.item._id[this.props.grouping]),ae.a.createElement("div",{className:"column"}," ",this.getItemText(e[0])),ae.a.createElement("div",{className:"column"}," ",this.getItemText(e[1])),ae.a.createElement("div",{className:"column"}," ",this.getItemText(e[2])),ae.a.createElement("div",{className:"column"}," ",this.getItemText(e[3])))}}]),t}(ae.a.Component))||z)||z,bt=Object(ue.b)("userStore")($=Object(ue.b)("entitiesStore")($=Object(ue.c)((L=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"entity",_,Object(ye.a)(Object(ye.a)(a))),a.editEntity=function(e){a.entity=e},a.getSums=function(){return ae.a.createElement("div",{className:"row"}," ",ae.a.createElement("div",{className:"column"},"-")," ",ae.a.createElement("div",{className:"column"},"-"),ae.a.createElement("div",{className:"column"},a.props.entitiesStore.deliveriseSum[0]),ae.a.createElement("div",{className:"column"},a.props.entitiesStore.deliveriseSum[1]),ae.a.createElement("div",{className:"column"},a.props.entitiesStore.deliveriseSum[2]),ae.a.createElement("div",{className:"column"},a.props.entitiesStore.deliveriseSum[3]?a.props.entitiesStore.deliveriseSum[3]+'\u05e9"\u05d7':"-")," ")},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"getTitles",value:function(){return"manufacturer"===this.props.entitiesStore.searchObj.grouping?ae.a.createElement("div",{className:"row"}," ",ae.a.createElement("div",{className:"column"},"-")," ",ae.a.createElement("div",{className:"column"},"-"),ae.a.createElement("div",{className:"column"},"\u05d9\u05e6\u05d5\u05e8 \u05d7\u05dc\u05d1"),ae.a.createElement("div",{className:"column"},"\u05e9\u05d8\u05e8\u05d0\u05d5\u05e1"),ae.a.createElement("div",{className:"column"},"\u05e9\u05d8\u05e8\u05d0\u05d5\u05e1 \u05e8\u05d7\u05d5\u05e7\u05d9\u05dd")):ae.a.createElement("div",{className:"row"}," ",ae.a.createElement("div",{className:"column"},"-")," ",ae.a.createElement("div",{className:"column"},"-"),ae.a.createElement("div",{className:"column"},"\u05de\u05d7\u05d9\u05e8 \u05dc\u05d9\u05d7\u05d9\u05d3\u05d4"),ae.a.createElement("div",{className:"column"},"\u05e1\u05d4\u05db \u05db\u05de\u05d5\u05ea"),ae.a.createElement("div",{className:"column"},"\u05e1\u05d4\u05db \u05dc\u05d9\u05d8\u05e8"),ae.a.createElement("div",{className:"column"},"\u05e1\u05d4\u05db \u05de\u05d7\u05d9\u05e8"))}},{key:"render",value:function(){var e=this;return this.props.userStore.user?ae.a.createElement("div",{class:"container"},this.entity?ae.a.createElement(qe,{togglePopUp:this.editEntity,entityName:this.props.entitiesStore.entityType,entity:this.entity}):null,ae.a.createElement(ht,null),ae.a.createElement("div",{className:"table"},this.getTitles(),this.props.entitiesStore.deliveries?this.props.entitiesStore.deliveries.map(function(t){return ae.a.createElement(yt,{grouping:e.props.entitiesStore.searchObj.grouping,key:t._id,item:t,editEntity:e.editEntity})}):ae.a.createElement("div",null,"Loading"),ae.a.createElement("div",{className:"row"},"\u05e1\u05da \u05d4\u05db\u05dc"),this.props.entitiesStore.deliveries?this.getSums():null,this.props.entitiesStore.shtraosDeliveries?ae.a.createElement("div",{className:"row"},"\u05e9\u05d8\u05e8\u05d0\u05d5\u05e1"):null,this.props.entitiesStore.shtraosDeliveries?this.props.entitiesStore.shtraosDeliveries.map(function(t){return ae.a.createElement(yt,{grouping:e.props.entitiesStore.searchObj.grouping,key:t._id,item:t,editEntity:e.editEntity})}):null)):ae.a.createElement(de.a,{to:"/login"})}}]),t}(ae.a.Component),_=Object(be.a)(L.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=L))||$)||$)||$,dt=Object(ue.b)("entitiesStore")(M=Object(ue.c)(M=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i)))).getItemText=function(e){return ae.a.createElement("div",{className:"column"},Object.keys(e).map(function(t){return ae.a.createElement("div",{className:"column1"}," ",e[t]," - ",t)}))},a.getItemDecimalText=function(e,t){return e?"date"===t?new Date(e).toDateString():e.$numberDecimal?e.$numberDecimal:e:"-"},a.editEntity=function(){a.props.editEntity(a.props.item)},a.deleteEntity=function(){a.props.deleteEntity?a.props.deleteEntity(a.props.item):a.props.entitiesStore.deleteEntity(a.props.item)},a.getItemArrayText=function(e){return e.map(function(e){return ae.a.createElement("div",{className:"column1"}," ",e)})},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){return ae.a.createElement("tr",{className:"row"},ae.a.createElement("td",{className:"column buttons"},ae.a.createElement(Qe.a,{className:"buttons",onClick:this.editEntity}),ae.a.createElement(Xe.a,{className:"buttons",onClick:this.deleteEntity})),ae.a.createElement("td",{className:"entityType column"},this.getItemDecimalText(this.props.item.entityType,"entityType")),ae.a.createElement("td",{className:"manufacturer column"},this.getItemDecimalText(this.props.item.manufacturer,"manufacturer")),ae.a.createElement("td",{className:"liter column"},this.getItemDecimalText(this.props.item.liter,"liter")),ae.a.createElement("td",{className:"count column"},this.getItemDecimalText(this.props.item.count,"count")),ae.a.createElement("td",{className:"date column"},this.getItemDecimalText(this.props.item.date,"date")),ae.a.createElement("td",{className:"milkman column"},this.getItemDecimalText(this.props.item.milkman,"milkman")),ae.a.createElement("td",{className:"price column"},this.getItemDecimalText(this.props.item.price,"price")),ae.a.createElement("td",{className:"driver column"},this.getItemDecimalText(this.props.item.driver,"driver")),ae.a.createElement("td",{className:"truck column"},this.getItemDecimalText(this.props.item.truck,"truck")),ae.a.createElement("td",{className:"cerDel column"},this.getItemDecimalText(this.props.item.cerDel,"cerDel")),ae.a.createElement("td",{className:"cerSell column"},this.getItemDecimalText(this.props.item.cerSell,"cerSell")))}}]),t}(ae.a.Component))||M)||M,Et=Object(ue.b)("entitiesStore")(Y=Object(ue.c)((B=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"entity",R,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeEntity",W,Object(ye.a)(Object(ye.a)(a))),Object(he.a)(a,"changeDateEntity",J,Object(ye.a)(Object(ye.a)(a))),a.search=function(){a.props.entitiesStore.searchDeliveriesEntities(a.entity)},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"getFirstDayOfTheMonth",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}},{key:"getLasttDayOfTheMonth",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}},{key:"componentDidMount",value:function(){this.props.entitiesStore.getItems("entityType"),this.props.entitiesStore.getItems("milkman"),this.props.entitiesStore.getItems("truck"),this.props.entitiesStore.getItems("driver"),this.props.entitiesStore.getItems("manufacturers")}},{key:"padNumber",value:function(e){return e>9?e:"0"+e}},{key:"toDateString",value:function(e){return e.getFullYear()+"-"+this.padNumber(e.getMonth()+1)+"-"+this.padNumber(e.getDate())}},{key:"render",value:function(){return ae.a.createElement(me.Card,{className:"popUp"},ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"age-simple"},"\u05de\u05d5\u05e6\u05e8"),ae.a.createElement(Be.a,{className:"input",value:this.entity.entityType,onChange:this.changeEntity,inputProps:{name:"entityType",id:"age-simple"}},ae.a.createElement(We.a,null,ae.a.createElement("em",null,"-")),this.props.entitiesStore.entities.entityType?this.props.entitiesStore.entities.entityType.map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"mani-simple"},"\u05d7\u05dc\u05d1\u05df"),ae.a.createElement(Be.a,{className:"input",value:this.entity.milkman,onChange:this.changeEntity,inputProps:{name:"milkman",id:"mani-simple"}},ae.a.createElement(We.a,null,ae.a.createElement("em",null,"-")),this.props.entitiesStore.entities.milkman?this.props.entitiesStore.entities.milkman.map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"age-simple"},"\u05d9\u05e6\u05e8\u05df"),ae.a.createElement(Be.a,{className:"input",value:this.entity.manufacturer,onChange:this.changeEntity,inputProps:{name:"manufacturer",id:"manufacturer"}},ae.a.createElement(We.a,null,ae.a.createElement("em",null,"-")),this.props.entitiesStore.entities.manufacturers?this.props.entitiesStore.entities.manufacturers.map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"age-simple"},"\u05e0\u05d4\u05d2"),ae.a.createElement(Be.a,{className:"input",value:this.entity.driver,onChange:this.changeEntity,name:"driver",id:"driver"},ae.a.createElement(We.a,null,ae.a.createElement("em",null,"-")),this.props.entitiesStore.entities.driver?this.props.entitiesStore.entities.driver.sort(function(e,t){return(e.isArchive?1:0)-(t.isArchive?1:0)}).map(function(e){return ae.a.createElement(We.a,{value:e.name},ae.a.createElement("em",null,e.name))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement(_e.a,null,ae.a.createElement(Ge.a,{htmlFor:"age-simple"},"\u05de\u05e9\u05d0\u05d9\u05ea"),ae.a.createElement(Be.a,{className:"input",value:this.entity.truck,onChange:this.changeEntity,name:"truck",id:"truck"},ae.a.createElement(We.a,null,ae.a.createElement("em",null,"-")),this.props.entitiesStore.entities.truck?this.props.entitiesStore.entities.truck.sort(function(e,t){return(e.isArchive?1:0)-(t.isArchive?1:0)}).map(function(e){return ae.a.createElement(We.a,{value:e.number},ae.a.createElement("em",null,e.number))}):null))),ae.a.createElement("div",{className:"row"},ae.a.createElement("span",{htmlFor:"mani-simple"},"\u05de\u05ea\u05d0\u05e8\u05d9\u05da"),ae.a.createElement(_e.a,{className:"row"},ae.a.createElement(Te.a,{className:"input",type:"date",name:"fromDate",value:this.toDateString(this.entity.fromDate),onChange:this.changeDateEntity}))),ae.a.createElement("div",{className:"row"},ae.a.createElement("span",{htmlFor:"toDate"},"\u05e2\u05d3 \u05ea\u05d0\u05e8\u05d9\u05da"),ae.a.createElement(Te.a,{className:"input",type:"date",name:"toDate",InputLabelProps:{shrink:!0},label:"\u05e2\u05d3 \u05ea\u05d0\u05e8\u05d9\u05da",value:this.toDateString(this.entity.toDate),onChange:this.changeDateEntity})),ae.a.createElement("div",{className:"row"},ae.a.createElement(pt.a,{className:"buttons",onClick:this.search})))}}]),t}(ae.a.Component),R=Object(be.a)(B.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{fromDate:this.getFirstDayOfTheMonth(),toDate:this.getLasttDayOfTheMonth(),milkman:void 0,entityType:void 0}}}),W=Object(be.a)(B.prototype,"changeEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.entity[t.target.name]=t.target.value}}}),J=Object(be.a)(B.prototype,"changeDateEntity",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.target.value.split("-");e.entity[t.target.name]=new Date(a[0],a[1]-1,a[2])}}}),Y=B))||Y)||Y,vt=Object(ue.b)("userStore")(G=Object(ue.b)("entitiesStore")(G=Object(ue.c)((q=function(e){function t(){var e,a;Object(re.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=Object(ce.a)(this,(e=Object(le.a)(t)).call.apply(e,[this].concat(i))),Object(he.a)(a,"entity",H,Object(ye.a)(Object(ye.a)(a))),a.editEntity=function(e){a.entity=e},a.getSums=function(){return a.props.entitiesStore.deliveriseSum?ae.a.createElement("div",{className:"row"},"  ",ae.a.createElement("div",null,"-"),ae.a.createElement("div",{className:"column"}," \u05e1\u05d4\u05db \u05db\u05de\u05d5\u05ea  ",a.props.entitiesStore.deliveriseSum[0]),ae.a.createElement("div",{className:"column"}," \u05e1\u05d4\u05db \u05dc\u05d9\u05d8\u05e8\u05d9\u05dd  ",a.props.entitiesStore.deliveriseSum[1]," "),ae.a.createElement("div",null,"-"),ae.a.createElement("div",{className:"column"},Math.round(100*a.props.entitiesStore.deliveriseSum[2])/100+' \u05e9"\u05d7')," "):null},a}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"getTable",value:function(){var e=this;return this.props.userStore.user?this.props.entitiesStore.entities.delivery?ae.a.createElement("div",null,ae.a.createElement("h2",{className:"title"},this.props.entitiesStore.entitiesFields.delivery.name+" \u05d7\u05d3\u05e9 "," "),ae.a.createElement(He,{togglePopUp:this.editEntity,entityName:"delivery",entity:this.entity}),ae.a.createElement("div",{className:"table"},this.getSums()),ae.a.createElement("table",{className:"table"},this.props.entitiesStore.entities.delivery.reverse().map(function(t){return ae.a.createElement(dt,{item:t,editEntity:e.editEntity,deleteEntity:e.props.entitiesStore.deleteDelivery})}))):ae.a.createElement("div",null,ae.a.createElement("h2",{className:"title"},this.props.entitiesStore.entitiesFields.delivery.name+" \u05d7\u05d3\u05e9 "," "),ae.a.createElement(He,{togglePopUp:this.editEntity,entityName:"delivery",entity:this.entity}),"loading"):ae.a.createElement(de.a,{to:"/login"})}},{key:"render",value:function(){return ae.a.createElement("div",{class:"container"},ae.a.createElement(Et,null),this.getTable())}}]),t}(ae.a.Component),H=Object(be.a)(q.prototype,"entity",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=q))||G)||G)||G,gt={childRoutes:[{path:"/",component:pe},{path:"/login",component:st},{path:"/registration",component:mt},{path:"/profile",component:lt},{path:"/delivery",component:qe},{path:"/deliveries",component:bt},{path:"/entity/delivery",component:vt},{path:"/entities/:name",component:et}]},ft=a(488),Ot=Object(ue.b)("userStore")(K=Object(ue.c)(K=function(e){function t(){return Object(re.a)(this,t),Object(ce.a)(this,Object(le.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(se.a)(t,[{key:"getLinks",value:function(){return this.props.userStore.user?ae.a.createElement("div",null,ae.a.createElement(Me.a,{to:"/deliveries",className:"delivery"},"\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"),ae.a.createElement(Me.a,{to:"/entity/delivery",className:"delivery"},"\u05d4\u05d5\u05e1\u05e3 \u05de\u05e9\u05dc\u05d5\u05d7"),ae.a.createElement(Me.a,{to:"/entities/driver"},"\u05e0\u05d4\u05d2\u05d9\u05dd"),ae.a.createElement(Me.a,{to:"/entities/truck"},"\u05de\u05e9\u05d0\u05d9\u05d5\u05ea"),ae.a.createElement(Me.a,{to:"/entities/milkman"},"\u05d7\u05dc\u05d1\u05e0\u05d9\u05dd"),ae.a.createElement(Me.a,{to:"/entities/manufacturers"},"\u05d9\u05e6\u05e8\u05e0\u05d9\u05dd"),ae.a.createElement(Me.a,{to:"/entities/entityType"},"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd")," "):ae.a.createElement(Me.a,{to:"/login"},"Log in")}},{key:"render",value:function(){return ae.a.createElement("div",null,ae.a.createElement("div",{className:"top-bar"},ae.a.createElement("div",{className:"top-bar-left"},ae.a.createElement(ft.a,{to:"/profile"},"Golan App")),ae.a.createElement("div",{className:"top-bar-right"},this.getLinks())))}}]),t}(ae.a.Component))||K)||K,jt=a(489),Nt=a(482),St=a(129),kt=a.n(St),wt=a(203),Dt=a.n(wt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt,Ct,xt,Ft,Pt,It,At,Ut,zt,$t,Lt=new(Q=function e(){var t=this;Object(re.a)(this,e),Object(he.a)(this,"user",V,this),Object(he.a)(this,"errors",X,this),this.login=function(e){rt.a.post("/auth/login",e).then(t.setUser).catch(t.setError)},this.register=function(e){rt.a.post("/auth/register",e).then(t.setUser).catch(t.setError)},Object(he.a)(this,"setUser",Z,this),Object(he.a)(this,"setError",ee,this)},V=Object(be.a)(Q.prototype,"user",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Object(be.a)(Q.prototype,"errors",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Z=Object(be.a)(Q.prototype,"setUser",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.errors={},e.user=t.data}}}),ee=Object(be.a)(Q.prototype,"setError",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.errors={message:t.response?t.response.data.message:t.data,stack:t.stack}}}}),Q),_t=new(Tt=function e(){var t=this;Object(re.a)(this,e),Object(he.a)(this,"entities",Ct,this),Object(he.a)(this,"deliveries",xt,this),Object(he.a)(this,"errors",Ft,this),Object(he.a)(this,"searchObj",Pt,this),this.entitiesFields={driver:{name:"\u05e0\u05d4\u05d2",names:"\u05e0\u05d4\u05d2\u05d9\u05dd",fields:["name","number","isArchive"]},truck:{name:"\u05de\u05e9\u05d0\u05d9\u05ea",names:"\u05de\u05e9\u05d0\u05d9\u05d5\u05ea",fields:["number","isArchive"]},milkman:{name:"\u05d7\u05dc\u05d1\u05df",names:"\u05d7\u05dc\u05d1\u05e0\u05d9\u05dd",fields:["name","arrPrices"]},entityType:{name:"\u05de\u05d5\u05e6\u05e8",names:"\u05de\u05d5\u05e6\u05e8\u05d9\u05dd",fields:["name"]},manufacturers:{name:"\u05d9\u05e6\u05e8\u05df",names:"\u05d9\u05e6\u05e8\u05e0\u05d9\u05dd",fields:["name","isClose","types"]},delivery:{name:"\u05de\u05e9\u05dc\u05d5\u05d7",names:"\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd",fields:["cerDel","cerSell","count","date","driver","entityType","liter","manufacturer","isClose","milkman","price","truck","_id"]}},Object(he.a)(this,"deliveriseSum",It,this),Object(he.a)(this,"shtraosDeliveries",At,this),Object(he.a)(this,"entityType",Ut,this),this.sumColumns={manufacturer:["totalAmout","shtrue","shfalse"],milkman:["price","totalAmout","totalLiter","sumPrice"]},this.deleteEntity=function(e){window.confirm("Are you sure you want to delete "+(e.name||e.number)+"?")&&rt.a.delete("/api/"+t.entityType+"/"+e._id).then(function(a){Object(Oe.l)(function(){t.entities[t.entityType]=t.entities[t.entityType].filter(function(t){return t._id!=e._id})})}).catch(t.setError)},this.deleteDelivery=function(e){window.confirm("Are you sure you want to delete "+e.cerDel+"?")&&rt.a.delete("/api/delivery/"+e._id).then(function(a){Object(Oe.l)(function(){t.entities.delivery=t.entities.delivery.filter(function(t){return t._id!=e._id})})}).catch(t.setError)},this.editDelivery=function(e){rt.a.post("/delivery/"+e._id,e).then(function(a){Object(Oe.l)(function(){t.entities&&t.entities.delivery&&(t.entities.delivery=t.entities.delivery.map(function(t){return t._id===e._id?a.data:t}))})})},this.createDelivery=function(e){return rt.a.post("/delivery/",e).then(function(e){return t.entities.delivery.push(e.data),null}).catch(function(e){throw e.response.data})},this.editEntity=function(e){rt.a.post("/api/"+t.entityType+"/"+e._id,e).then(function(a){Object(Oe.l)(function(){t.entities[t.entityType]=t.entities[t.entityType].map(function(t){return t._id===e._id?a.data:t})})}).catch(t.setError)},this.getItems=function(e){rt.a.get("/api/"+e).then(function(a){Object(Oe.l)(function(){t.entities[e]=a.data})}).catch(t.setError)},this.searchDeliveriesEntities=function(e){rt.a.post("/delivery/get",e).then(function(e){Object(Oe.l)(function(){t.entities.delivery=e.data,t.deliveriseSum=[0,0,0],e.data.forEach(function(e){t.deliveriseSum[0]+=parseFloat(e.count.$numberDecimal),t.deliveriseSum[1]+=parseFloat(e.liter.$numberDecimal),t.deliveriseSum[2]+=parseFloat(e.price.$numberDecimal)*parseFloat(e.count.$numberDecimal)})})}).catch(t.setError)},Object(he.a)(this,"setEntityType",zt,this),this.createItem=function(e,a){return rt.a.post("/api/"+a,e).then(function(e){Object(Oe.l)(function(){t.entities[a].push(e.data)})}).catch(t.setError)},Object(he.a)(this,"setError",$t,this),this.searchDeliveries=function(e){t.shtraosDeliveries=[],t.deliveries=[],rt.a.post("/delivery/search/"+e.grouping,e).then(function(a){Object(Oe.l)(function(){if(t.shtraosDeliveries=[],"milkman"===e.grouping){var n=[];t.deliveriseSum=["-",0,0,0],a.data.forEach(function(e){if("\u05e9\u05d8\u05e8\u05d0\u05d5\u05e1"===e._id.milkman)e._id.isClose||(e._id.milkman="\u05e9\u05d8\u05e8\u05d0\u05d5\u05e1 \u05d4\u05d5\u05d1\u05dc\u05d4 \u05d9\u05e6\u05e8\u05e0\u05d9 \u05d7\u05dc\u05d1 \u05e8\u05d7\u05d5\u05e7"),t.shtraosDeliveries.push(e);else{var a=n.filter(function(t){return t._id.milkman===e._id.milkman});a.length>0?(a[0].totalAmout.$numberDecimal=parseFloat(a[0].totalAmout.$numberDecimal)+parseFloat(e.totalAmout.$numberDecimal),a[0].totalLiter.$numberDecimal=parseFloat(a[0].totalLiter.$numberDecimal)+parseFloat(e.totalLiter.$numberDecimal),a[0].sumPrice.$numberDecimal=parseFloat(a[0].sumPrice.$numberDecimal)+parseFloat(e.sumPrice.$numberDecimal)):n.push(e),t.deliveriseSum[1]+=parseFloat(e.totalAmout.$numberDecimal),t.deliveriseSum[2]+=parseFloat(e.totalLiter.$numberDecimal),t.deliveriseSum[3]+=parseFloat(e.sumPrice.$numberDecimal)}}),a.data=n}else t.deliveriseSum=[0,0,0],a.data.forEach(function(e){t.sumColumns.manufacturer.forEach(function(a,n){t.deliveriseSum[n]+=e[a]?parseFloat(e[a].$numberDecimal):0})});t.deliveries=a.data,t.searchObj=Object(we.a)({},e)})}).catch(t.setError)}},Ct=Object(be.a)(Tt.prototype,"entities",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xt=Object(be.a)(Tt.prototype,"deliveries",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=Object(be.a)(Tt.prototype,"errors",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pt=Object(be.a)(Tt.prototype,"searchObj",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),It=Object(be.a)(Tt.prototype,"deliveriseSum",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),At=Object(be.a)(Tt.prototype,"shtraosDeliveries",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ut=Object(be.a)(Tt.prototype,"entityType",[Oe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zt=Object(be.a)(Tt.prototype,"setEntityType",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.entityType=t}}}),$t=Object(be.a)(Tt.prototype,"setError",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.errors={message:t.response?t.response.data.message:t.data,stack:t.stack}}}}),Tt);ie.a.render(ae.a.createElement(Dt.a,{muiTheme:kt()()},ae.a.createElement(jt.a,null,ae.a.createElement(ue.a,{userStore:Lt,entitiesStore:_t},ae.a.createElement("div",null,ae.a.createElement(Ot,null),gt.childRoutes.map(function(e){return console.log(e),ae.a.createElement(Nt.a,Object.assign({key:e.path},e))}),"  ")))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[204,2,1]]]);
//# sourceMappingURL=main.0b4932ff.chunk.js.map